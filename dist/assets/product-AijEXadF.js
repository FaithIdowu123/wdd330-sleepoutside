import{g as a,s as d,a as c}from"./utils-BegpQs_u.js";function n(e){if(e.ok)return e.json();throw new Error("Bad Response")}class s{constructor(t){this.category=t,this.path=`../json/${this.category}.json`}getData(){return fetch(this.path).then(n).then(t=>t)}async findProductById(t){return(await this.getData()).find(r=>r.Id===t)}}class i{constructor(t,o){this.productId=t,this.dataSource=o,this.product={}}async init(){this.product=await this.dataSource.findProductById(this.productId),this.renderProductDetails(),document.getElementById("addToCart").addEventListener("click",this.addProductToCart.bind(this))}addProductToCart(){const t=a("so-cart");t.push(this.product),d("so-cart",t)}renderProductDetails(){this.productdisplaytemplate(this.product)}productdisplaytemplate(t){document.title="Sleep Outside | "+t.NameWithoutBrand,document.querySelector("h3").textContent=t.Brand.Name,document.querySelector("h2").textContent=t.NameWithoutBrand,document.querySelector("img.divider").src=t.Image,document.querySelector("img.divider").alt=t.NameWithoutBrand,document.querySelector(".product-card__price").textContent=t.FinalPrice,document.querySelector(".product__color").textContent=t.Colors.ColorName,document.querySelector(".product__description").innerHTML=t.DescriptionHtmlSimple,document.getElementById("addToCart").dataset.id=t.Id}}const u=new s("tents"),l=c(),h=new i(l,u);h.init();
